# Windwos下MySQL配置文件

```ini
[mysqld]
#shared-memory
#skip-grant-tables

sql_mode=STRICT_TRANS_TABLES,NO_ZERO_IN_DATE,NO_ZERO_DATE,ERROR_FOR_DIVISION_BY_ZERO,NO_ENGINE_SUBSTITUTION
#设置3306端口
port=3306
#设置mysql的安装目录
basedir="D:\mysql5.7.34"
#设置mysql数据库的数据的存放目录
datadir="D:\mysql5.7.34\Data"
#允许最大连接数
max_connections=10
#允许连接失败的次数.这是为了防止有人从该主机试图攻击数据库系统
max_connect_errors=5
#服务端使用的字符集默认为UTF8
character-set-server=utf8
#创建新表时将使用的默认存储引擎
default-storage-engine=INNODB
#修改默认密码的加密方式
default_authentication_plugin=mysql_native_password
#指定一个请求的最大连接时间,对于4GB左右的内存服务器来说,可以将其设置为5-10
wait_timeout=10
#######################################
#表缓存
table_open_cache=2560
#设置在网络传输中一次消息传输量的最大值.系统默认值为1MB,最大值是1GB,必须设置1024的倍数
max_allowed_packet=32M
#服务器有几个CPU就设置为几.建议用默认设置.一般为8
innodb_thread_concurrency=8
#服务器线程缓存,1GB内存配置为8,2GB配置为16,3GB配置为32,4GB或更高内存,可配置更大
thread_cache_size=8
#这对Innodb表来说非常重要.Innodb相比MyISAM表对缓冲更为敏感
innodb_buffer_pool_size=1024M
#如果将此参数设置为1，将在每次提交事务后将日志写入磁盘。为提供性能，可以设置为0或2，但要承担在发生故障时丢失数据的风险。设置为0表示事务日志写入日志文件，而日志文件每秒刷新到磁盘一次。设置为2表示事务日志将在提交时写入日志，但日志文件每次刷新到磁盘一次
innodb_flush_log_at_trx_commit=2
#此参数确定些日志文件所用的内存大小.以M为单位.缓冲区更大能提高性能.但意外的故障将会丢失数据.MySQL开发人员建议设置为1－8M之间
innodb_log_buffer_size=1M
#此参数确定数据日志文件的大小.以M为单位.更大的设置可以提高性能.但也会增加恢复故障数据库所需的时间
innodb_log_file_size=2M
#为提高性能.MySQL可以以循环方式将日志文件写到多个文件.推荐设置为3M
innodb_log_files_in_group=3M
#Buffer_Pool中Dirty_Page所占的数量.直接影响InnoDB的关闭时间
innodb_max_dirty_pages_pct=90
#InnoDB有其内置的死锁检测机制.能导致未完成的事务回滚.但是.如果结合InnoDB使用MyISAM的locktables语句或第三方事务引擎,则InnoDB无法识别死锁.为消除这种可能性.可以将innodb_lock_wait_timeout设置为一个整数值.指示MySQL在允许其他事务修改那些最终受事务回滚的数据之前要等待多长时间(秒数)
innodb_lock_wait_timeout=120
#独享表空间（关闭）
innodb_file_per_table=0
######################################
query_cache_limit=4M
[mysqldump]
max_allowed_packet=32M
[mysql]
#设置mysql客户端默认字符集
default-character-set=utf8
[client]
#设置mysql客户端连接服务端时默认使用的端口
port=3306
```

